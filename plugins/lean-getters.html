
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>Mongoose Plugins Search</title>
    <link rel="stylesheet" href="/public/style.css">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,700">

    <script type="text/javascript">
      var xhr = new XMLHttpRequest();
      xhr.open('POST', 'https://g0a3nbw0xa.execute-api.us-east-1.amazonaws.com/prod/track', true);
      xhr.setRequestHeader('Content-Type', 'application/json');
      xhr.onreadystatechange = function() {};
      xhr.send(JSON.stringify({
        path: window.location.pathname,
        hostname: window.location.hostname,
        hash: window.location.hash
      }));
    </script>
  </head>
  <body>
    <div id="wrap">
      
    <script type="text/javascript" src="/public/native.js"></script>
    <link rel="stylesheet" href="/public/inlinecpc.css">
    <link rel="stylesheet" href="/public/highlight.css">
    <link rel="stylesheet" href="/public/plugin.css">
    <style>
      a, a:visited {
        color: #0366d6;
      }
    </style>

    <script>
      _native.init("CK7DT53Y",{
        targetClass: 'native-inline'
      });
    </script>

    <div class="content">
      <div class="toc desktop">
        <h2><a href="/">Mongoose Plugins</a></h2>
        <div>
          <div id="select-plugin"><a class="select-plugin-this-repo" href="./lean-getters">mongoose-lean-getters</a> <span class="right-arrow"></span><div id="select-plugin-hidden"><a href="./autopopulate">mongoose-autopopulate</a>
<a href="./lean-virtuals">mongoose-lean-virtuals</a>
<a href="./int32">mongoose-int32</a>
<a href="./double">mongoose-double</a>
<a href="./update-versioning">mongoose-update-versioning</a></div></div>
        </div>
        <ul>
<li><a href="#usage">Usage</a><ul>
<li><a href="#changelog">Changelog</a></li>
</ul>
</li>
<li><a href="#040--2023-02-13">0.4.0 / 2023-02-13</a></li>
<li><a href="#036--2023-01-06">0.3.6 / 2023-01-06</a></li>
<li><a href="#035--2022-07-22">0.3.5 / 2022-07-22</a></li>
<li><a href="#034--2022-06-19">0.3.4 / 2022-06-19</a></li>
<li><a href="#033--2022-05-28">0.3.3 / 2022-05-28</a></li>
<li><a href="#032--2022-04-20">0.3.2 / 2022-04-20</a></li>
<li><a href="#031--2022-04-17">0.3.1 / 2022-04-17</a></li>
<li><a href="#030--2021-12-20">0.3.0 / 2021-12-20</a></li>
<li><a href="#022--2021-12-02">0.2.2 / 2021-12-02</a></li>
<li><a href="#021--2021-09-22">0.2.1 / 2021-09-22</a></li>
<li><a href="#020--2021-03-03">0.2.0 / 2021-03-03</a></li>
<li><a href="#012--2019-12-05">0.1.2 / 2019-12-05</a></li>
<li><a href="#011--2019-07-18">0.1.1 / 2019-07-18</a></li>
</ul>

        <div id="carbonads-wrapper">
          <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7DT537&placement=mongoosejsio" id="_carbonads_js"></script>
        </div>
      </div>
      <h1 id="repo" class="desktop">mongoose-lean-getters</h1>
      <div class="toc mobile">
        <h2><a href="/">Mongoose Plugins</a></h2>
        <div>
          <select id="select-plugin-mobile" onchange="window.location.href = '/plugins/' + this.value">
      <option value="autopopulate" >
        mongoose-autopopulate
      </option>
    

      <option value="lean-virtuals" >
        mongoose-lean-virtuals
      </option>
    

      <option value="int32" >
        mongoose-int32
      </option>
    

      <option value="double" >
        mongoose-double
      </option>
    

      <option value="update-versioning" >
        mongoose-update-versioning
      </option>
    

      <option value="lean-getters" selected>
        mongoose-lean-getters
      </option>
    </select>
        </div>
        <ul>
<li><a href="#usage">Usage</a><ul>
<li><a href="#changelog">Changelog</a></li>
</ul>
</li>
<li><a href="#040--2023-02-13">0.4.0 / 2023-02-13</a></li>
<li><a href="#036--2023-01-06">0.3.6 / 2023-01-06</a></li>
<li><a href="#035--2022-07-22">0.3.5 / 2022-07-22</a></li>
<li><a href="#034--2022-06-19">0.3.4 / 2022-06-19</a></li>
<li><a href="#033--2022-05-28">0.3.3 / 2022-05-28</a></li>
<li><a href="#032--2022-04-20">0.3.2 / 2022-04-20</a></li>
<li><a href="#031--2022-04-17">0.3.1 / 2022-04-17</a></li>
<li><a href="#030--2021-12-20">0.3.0 / 2021-12-20</a></li>
<li><a href="#022--2021-12-02">0.2.2 / 2021-12-02</a></li>
<li><a href="#021--2021-09-22">0.2.1 / 2021-09-22</a></li>
<li><a href="#020--2021-03-03">0.2.0 / 2021-03-03</a></li>
<li><a href="#012--2019-12-05">0.1.2 / 2019-12-05</a></li>
<li><a href="#011--2019-07-18">0.1.1 / 2019-07-18</a></li>
</ul>

      </div>
      <div class="native-inline">
        <a href="#native_link#"><span class="sponsor">Sponsor</span> #native_company# â€” #native_desc#</a>
      </div>
      <h2 id="usage">Usage</h2>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> mongoose = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mongoose'</span>);
<span class="hljs-keyword">const</span> mongooseLeanGetters = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mongoose-lean-getters'</span>);

<span class="hljs-keyword">const</span> schema = mongoose.Schema({
  <span class="hljs-attr">name</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-built_in">String</span>,
    <span class="hljs-comment">// Get the last 6 characters of the string</span>
    get: <span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> v.slice(<span class="hljs-number">-6</span>)
  }
});
<span class="hljs-comment">// Add this plugin to apply getters when using `lean()`.</span>
schema.plugin(mongooseLeanGetters);

<span class="hljs-keyword">await</span> Model.create({ <span class="hljs-attr">name</span>: <span class="hljs-string">'Captain Jean-Luc Picard'</span> });

<span class="hljs-keyword">const</span> doc = <span class="hljs-keyword">await</span> Model.findOne().lean({ <span class="hljs-attr">getters</span>: <span class="hljs-literal">true</span> });
doc.name; <span class="hljs-comment">// 'Picard'</span></code></pre>


      

      <h1 id="changelog">Changelog</h1>
<h2 id="040--2023-02-13">0.4.0 / 2023-02-13</h2>
<ul>
<li>fix: support findOneAndDelete #24 #23 <a href="https://github.com/IslandRhythms">IslandRhythms</a></li>
</ul>
<h2 id="036--2023-01-06">0.3.6 / 2023-01-06</h2>
<ul>
<li>fix: omit paths with no getters set #21 <a href="https://github.com/IslandRhythms">IslandRhythms</a></li>
</ul>
<h2 id="035--2022-07-22">0.3.5 / 2022-07-22</h2>
<ul>
<li>fix: correct semver range #19 <a href="https://github.com/DesignByOnyx">DesignByOnyx</a></li>
</ul>
<h2 id="034--2022-06-19">0.3.4 / 2022-06-19</h2>
<ul>
<li>fix: call nested getters if nesting level &gt; 1 #17 <a href="https://github.com/vladomnifi">vladomnifi</a></li>
</ul>
<h2 id="033--2022-05-28">0.3.3 / 2022-05-28</h2>
<ul>
<li>fix(types): remove unnecessary empty index.ts file #14 #15</li>
</ul>
<h2 id="032--2022-04-20">0.3.2 / 2022-04-20</h2>
<ul>
<li>fix: correctly handle projections with document arrays #13</li>
<li>fix: export default for ESM imports #11 <a href="https://github.com/IslandRhythms">IslandRhythms</a></li>
</ul>
<h2 id="031--2022-04-17">0.3.1 / 2022-04-17</h2>
<ul>
<li>fix: avoid running getters on fields that are excluded by projection #9 <a href="https://github.com/IslandRhythms">IslandRhythms</a></li>
</ul>
<h2 id="030--2021-12-20">0.3.0 / 2021-12-20</h2>
<ul>
<li>feat: add Mongoose 6 to supported versions #8 <a href="https://github.com/medolino">medolino</a></li>
</ul>
<h2 id="022--2021-12-02">0.2.2 / 2021-12-02</h2>
<ul>
<li>fix: fix compiling with strict tsconfig #7 <a href="https://github.com/Maks-s">Maks-s</a></li>
</ul>
<h2 id="021--2021-09-22">0.2.1 / 2021-09-22</h2>
<ul>
<li>fix: upgrade to latest mpath #5</li>
</ul>
<h2 id="020--2021-03-03">0.2.0 / 2021-03-03</h2>
<ul>
<li>feat: add index.d.ts for TypeScript support #4</li>
</ul>
<h2 id="012--2019-12-05">0.1.2 / 2019-12-05</h2>
<ul>
<li>fix: only call getters once when using <code>find()</code> #1</li>
</ul>
<h2 id="011--2019-07-18">0.1.1 / 2019-07-18</h2>
<ul>
<li>docs: add example to README</li>
</ul>

    </div>
  
    </div>
  </body>
</html>
